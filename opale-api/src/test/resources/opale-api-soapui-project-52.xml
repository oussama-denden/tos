<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="opale-api" soapui-version="4.6.3" abortOnError="false" runType="SEQUENTIAL" resourceRoot="" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://10.10.2.52:8080" type="rest" id="40235975-6fdf-471c-97f7-54d0c69018fd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://10.10.2.52:8080</con:endpoint></con:endpoints><con:resource name="draft" path="/opale-api/draft/draft" id="b7037d53-f048-41ab-8079-4c360a0b6227"><con:settings/><con:parameters/><con:method name="Method 1" method="POST" id="a0c9d3b6-7454-4974-a832-0f889201a59f"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:draf="http://10.10.2.52/opale-api/draft/draft">draf:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:draf="http://10.10.2.52/opale-api/draft/draft">draf:Fault</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="cadb0029-e3f7-4100-91ff-17fc2391f466"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  
  "auteur": {
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/draft</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="AssocierClient" path="/opale-api/draft/{refDraft}/associerClient" id="41b312a2-f199-40ea-9157-e4c84cd8d38a"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="28596a2d-53df-4b39-93e6-7ce8601b6ef7"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:ass="http://10.10.2.52/opale-api/draft/Dra-00000001/associerClient">ass:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="33697607-2acd-4325-845e-ac6f06eb731d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="associerCodePartenaire" path="/opale-api/draft/{refDraft}/associerCodePartenaire" id="6ac2f226-e92e-4ca0-966b-3c5c55287fd0"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="5bf44c88-eade-44b7-a5da-5dc4a9d21292"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="d1ede3f9-a93f-4ea0-9ef4-653e30497262"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="ligne" path="/opale-api/draft/{refDraft}/ligne" id="122af87c-769c-4ce4-93ba-866fbfcac5a8"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="a79450e6-7417-4690-9b24-9fc33e88ba2a"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:lig="http://10.10.2.52/opale-api/draft/Dra-00000004/ligne">lig:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>405 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="1cdefcf8-1d0e-47ea-b14d-dcccb1657c99"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="valider" path="/opale-api/draft/{refDraft}/valider" id="6acc8a92-c607-4ea5-a922-c8d65a04ebaa"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="2a85d7c7-594f-4f06-997e-ed1f04f7fb2e"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>405</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:val="http://10.10.2.52/opale-api/draft/Dra-00000004/valider">val:Fault</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="10e6aa9a-5e8d-413c-bcc4-ddbad0c74083"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="associerAuteur" path="/opale-api/draft/{refDraft}/associerAuteur" id="b3c91c21-aa14-475c-93ce-645e0e51d34c"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="cee5033d-2e74-46c6-8306-543828e973fc"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="e9e98841-c618-4ed0-a74a-4123616276e0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="{refLigne}" path="/opale-api/draft/{refDraft}/ligne/{refLigne}" id="68932b96-9b37-4efe-9bd2-6656cb8ff8dc"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter><con:parameter><con:name>refLigne</con:name><con:value>refLigne</con:value><con:style>TEMPLATE</con:style><con:default>refLigne</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="8e439638-6cb0-4230-9ebb-0a53ff64f085"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:ns="http://10.10.2.52/opale-api/draft/Dra-00000015/ligne/00000007">ns:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="f46883e6-bdaa-4a2b-a718-d02aa38a0da0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="transformerEnCommande" path="/opale-api/draft/{refContrat}/transformerEnCommande" id="f9a55126-a313-4931-a658-096e3044e426"><con:settings/><con:parameters><con:parameter><con:name>refContrat</con:name><con:value>refContrat</con:value><con:style>TEMPLATE</con:style><con:default>refContrat</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="77b26c0e-df0a-4678-8752-f3d3e1e4de20"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:tran="http://10.10.2.52/opale-api/draft/00002222222/transformerEnCommande">tran:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:tran="http://10.10.2.52/opale-api/draft/Dra-00000005/transformerEnCommande">tran:Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="532d117c-53f1-48ee-9325-0bbd62b03d1f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="draft" path="/opale-pai/draft" id="4929ec9d-5d09-4888-8d79-51d447eff1f2"><con:settings/><con:parameters/><con:method name="Method 1" method="GET" id="939e00fa-71a3-465c-8991-64c69a536ed8"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="37c76aea-2410-497a-8d62-783ea8010070"><con:settings/><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="creerIntentionSignature" path="/opale-api/commande/{refCommande}/signature" id="07dec2c0-b454-4ead-96bf-0ce1b5af4c48"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="11db0812-e8d0-4d64-9ed1-340214b304b6"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>405 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:sig="http://10.10.2.52/opale-api/commande/Cmd-00000003/signature">sig:Fault</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="c45b202d-2b35-4cb2-8177-44a70192beab"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="signer intention" path="/opale-api/commande/{refCommande}/signature/{refSignature}" id="382ab845-7e50-4c8d-84c2-406996798ede"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter><con:parameter><con:name>refSignature</con:name><con:value>refSignature</con:value><con:style>TEMPLATE</con:style><con:default>refSignature</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="78d66155-353e-4b8d-bf0e-bc5caa7ef32a"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:ns="http://10.10.2.52/opale-api/commande/Cmd-00000003/signature/00000002">ns:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="3d568555-717b-44a0-867f-7acfec2cb400"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="supprimerSignature" path="/opale-api/commande/{refCommande}/signature/{refSignature}/supprimer" id="b25e97b0-92c6-41a3-88e8-e676662d9129"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter><con:parameter><con:name>refSignature</con:name><con:value>refSignature</con:value><con:style>TEMPLATE</con:style><con:default>refSignature</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="2990190e-e6e3-4a9d-bc18-c9cc7fd3471e"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="df697097-ac28-4a34-98c0-dfb71ad0f3c4"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:originalUri>http://10.10.2.52/opale-api/commande/refCommande/signature/refSignature/supprimer</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="signatureDirect" path="/opale-api/commande/{refCommande}/signature/Direct" id="8755c9cb-4cce-4e6d-aeb3-5ca80217af46"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="7540116b-7e48-4a45-a2d8-ec5bf085d93b"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:dir="http://10.10.2.52/opale-api/commande/Cmd-00000004/signature/Direct">dir:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:dir="http://10.10.2.52/opale-api/commande/Cmd-00000004/signature/Direct">dir:Fault</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="cccea617-31e6-4687-acc4-43523dfec052"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="{refCommande}" path="/opale-api/commande/{refCommande}" id="a7dbc076-1634-4101-af09-5e00cf325dd4"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="978cd4d8-f112-499c-9cd8-0641e0767d34"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:cmd="http://10.10.2.52/opale-api/commande/Cmd-00000005">cmd:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cmd="http://10.10.2.52/opale-api/commande/Cmd-00000005">cmd:Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="98c32071-acda-4f8e-9278-cdde17c03cae"><con:settings/><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="affiche signatures" path="/opale-api/commande/{refCommande}/signature/{AfficheAnnule}" id="2c1d7db3-0637-4719-a94a-6d3cc6095739"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter><con:parameter><con:name>AfficheAnnule</con:name><con:value>AfficheAnnule</con:value><con:style>TEMPLATE</con:style><con:default>AfficheAnnule</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="e78abc12-8324-4430-a346-377231451b6c"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="5b83fddf-5507-42b2-8046-6f31f37c6660"><con:settings/><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="creer intention paiement" path="/opale-api/commande/{refCommande}/paiement" id="73a696b6-6204-4390-9b51-214cf88a6fa7"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="79b97c16-74ab-495d-960d-8818e71787e9"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:pai="http://10.10.2.52/opale-api/commande/Cmd-00000006/paiement">pai:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="1e47b16d-a34b-41ea-bba6-f5cbec666367"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="payer intention payement" path="/opale-api/commande/{refCommande}/paiement/{refPaiement}/payer" id="8ae825ce-f6b0-4115-95e9-3241895e6750"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter><con:parameter><con:name>refPaiement</con:name><con:value>refPaiement</con:value><con:style>TEMPLATE</con:style><con:default>refPaiement</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="f5cc0044-05b9-4180-8118-70a52251c4c6"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="737418bf-13cd-4137-925a-788dc400dc1a"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="payement recurrent" path="/opale-api/commande/{refCommande}/paiement/recurrent" id="7cb794a0-eb70-4513-8d10-67df23d4ab28"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="2e1d7708-e85c-4853-9016-cbb82f87408a"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:rec="http://10.10.2.52/opale-api/commande/Cmd-00000007/paiement/recurrent">rec:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:rec="http://10.10.2.52/opale-api/commande/Cmd-00000002/paiement/recurrent">rec:Fault</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="c4459ef6-33d2-42db-875b-4fbbad609f17"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="payement direct" path="/opale-api/commande/{refCommande}/paiement/comptant" id="17706599-b1f6-4026-a380-d1f579ecef67"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="1b72777d-0b89-4f69-b251-a41b0a3cf43c"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:com="http://10.10.2.52/opale-api/commande/Cmd-00000007/paiement/comptant">com:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="37e5992f-2bc4-4ac9-a569-3028a9789528"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="besoinPaiementRecurrent" path="/opale-api/commande/{refCommande}/besoinPaiementRecurrent" id="9a22d115-50f4-4ae2-81db-212ad37223ab"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="3bc378dd-ac78-46b7-90c5-622fe796ad7c"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:bes="http://10.10.2.52/opale-api/commande/Cmd-00000002/besoinPaiementRecurrent">bes:Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="2752b61c-aa5e-4039-9781-b45d52ea7a58"><con:settings/><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="besoinPaiementComptant" path="/opale-api/commande/{refCommande}/besoinPaiementComptant" id="b34896b8-3fbf-43e6-8020-7b87a266b713"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="08788eb6-956e-499a-951d-346f422b142c"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:bes="http://10.10.2.52/opale-api/commande/Cmd-00000002/besoinPaiementComptant">bes:Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" id="4c513c6f-bc01-4015-acc1-08783587ced0"><con:settings/><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="supprimer" path="/opale-api/commande/{refCommande}/paiement/{refPaiement}/supprimer" id="a229687a-f647-4be1-9bd7-0a378190a240"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter><con:parameter><con:name>refPaiement</con:name><con:value>refPaiement</con:value><con:style>TEMPLATE</con:style><con:default>refPaiement</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="aa7d892a-adde-4f78-977b-f8ad3a66039b"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="35f9ea75-5ad9-432a-8d90-c3979910e493"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="lise de paiement" path="/opale-api/commande/{refCommande}/paiement/annule/{isAnnuler}" id="a9d4071e-879d-408b-bebc-f787c5d87161"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter><con:parameter><con:name>isAnnuler</con:name><con:value>isAnnuler</con:value><con:style>TEMPLATE</con:style><con:default>isAnnuler</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="cbf5fa2a-632d-48fd-b60e-b47e5088c7b6"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:request name="Request 1" mediaType="application/json" id="19f2aeb8-ca9a-49a6-bfad-3dc5d3632ca9"><con:settings/><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="{refCommande}" path="/opale-api/commande/{refCommande}" id="99bd72dd-1e02-447f-9ee4-64c23c98fdb9"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="d40017dd-6855-4303-b16e-1a41e0605b0a"><con:settings/><con:parameters/><con:request name="Request 1" mediaType="application/json" id="041df23f-d912-4968-b6ea-9c48f76f4657"><con:settings/><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="associer reduction draft" path="/opale-api/draft/{refdraft}/associerReduction" id="607a8564-5691-4392-a679-e14ce953b901"><con:settings/><con:parameters><con:parameter><con:name>refdraft</con:name><con:value>refdraft</con:value><con:style>TEMPLATE</con:style><con:default>refdraft</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="0a35b938-06fe-4bee-a479-9df6b5d5cc96"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:ass="http://10.10.2.52/opale-api/draft/%23refDraft/associerReduction">ass:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ass="http://10.10.2.52/opale-api/draft/%23refDraft/associerReduction">ass:Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="829c9b9e-0226-4240-a207-74bfbfe6923c"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="associer reduction ligne" path="/opale-api/draft/{refDraft}/ligne/{refLigne}/associerReduction" id="126ce1d9-f9e3-489d-966d-1a836b9113e2"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter><con:parameter><con:name>refLigne</con:name><con:value>refLigne</con:value><con:style>TEMPLATE</con:style><con:default>refLigne</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="9e9c1902-e482-44fc-aac8-4bf0a0a1105c"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ass="http://10.10.2.52/opale-api/draft/Dra-00000027/ligne/00000023/associerReduction">ass:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Request 1" mediaType="application/json" id="df69f917-2ade-4c2a-9e49-bdf17a26a7a2" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="associer reduction EC parent" path="/opale-api/draft/{refDraft}/ligne/{refLigne}/tarif/{refTarif}/associerReduction" id="a7cd3aef-e093-4256-96c0-dfbc52f47d01"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter><con:parameter><con:name>refLigne</con:name><con:value>refLigne</con:value><con:style>TEMPLATE</con:style><con:default>refLigne</con:default></con:parameter><con:parameter><con:name>refTarif</con:name><con:value>refTarif</con:value><con:style>TEMPLATE</con:style><con:default>refTarif</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="18cad732-0a41-4ddd-b093-541014c84516"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ass="http://10.10.2.52/opale-api/draft/Dra-00000027/ligne/00000023/tarif/avfw.essentiel.1mois/associerReduction">ass:Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="03a4e570-2f5f-4662-850a-cdcd6faa8fd1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="associer reduction frais ligne" path="/opale-api/draft/{refDraft}/ligne/{refLigne}/frais/{refFrais}/associerReduction" id="cc35cc1f-7354-4292-8fa4-f5e4471273c1"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter><con:parameter><con:name>refLigne</con:name><con:value>refLigne</con:value><con:style>TEMPLATE</con:style><con:default>refLigne</con:default></con:parameter><con:parameter><con:name>refFrais</con:name><con:value>refFrais</con:value><con:style>TEMPLATE</con:style><con:default>refFrais</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="e38d44dc-9fb9-48df-a566-42985fd27224"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:ass="http://10.10.2.52/opale-api/draft/Dra-00000027/ligne/Dra-00000027/frais/engagement_kitsat/associerReduction">ass:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ass="http://10.10.2.52/opale-api/draft/Dra-00000027/ligne/Dra-00000027/frais/engagement_kitsat/associerReduction">ass:Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="ff36d261-ca94-4629-9888-ea1dc2122d7c"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="associer reduction detail" path="/opale-api/draft/{refDraft}/ligne/{refLigne}/detail/{refProduit}/associerReduction" id="b5568887-410a-4a4f-b040-c8a2f382cab1"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter><con:parameter><con:name>refLigne</con:name><con:value>refLigne</con:value><con:style>TEMPLATE</con:style><con:default>refLigne</con:default></con:parameter><con:parameter><con:name>refProduit</con:name><con:style>TEMPLATE</con:style></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="322dc6ba-3c00-4429-a19a-2ffebad4b19d"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:ass="http://10.10.2.52/opale-api/draft/Dra-00000027/ligne/00000023/detail/avfw.essentiel/associerReduction">ass:Fault</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="b2e0c254-f73a-4918-9ce5-e1e9ad13343d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refProduit" value="refProduit" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>refDraft</con:entry><con:entry>refLigne</con:entry><con:entry>refProduit</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="associer reduction frais ligne detail" path="/opale-api/draft/{refDraft}/ligne/{refLigne}/detail/{refProduit}/frais/{refFrai}/associerReduction" id="19603bca-dde7-44b9-96da-a650eedbd410"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter><con:parameter><con:name>refLigne</con:name><con:value>refLigne</con:value><con:style>TEMPLATE</con:style><con:default>refLigne</con:default></con:parameter><con:parameter><con:name>refProduit</con:name><con:value>refProduit</con:value><con:style>TEMPLATE</con:style><con:default>refProduit</con:default></con:parameter><con:parameter><con:name>refFrai</con:name><con:value>refFrai</con:value><con:style>TEMPLATE</con:style><con:default>refFrai</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="e5217f25-35eb-4058-a21a-b71f1d6999e5"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:ass="http://10.10.2.52/opale-api/draft/Dra-00000027/ligne/00000023/detail/avfw.essentiel/frais/engagement_kitsat/associerReduction">ass:Fault</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="92b13380-7e00-4897-b0bb-2633a3f14486"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="costCalculation" path="/opale-api/draft/{refDraft}/costCalculation" id="16099691-fa68-43e5-978a-85f54690d61b"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="de94d738-2bb7-464a-8027-74d164fb5437"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cos="http://10.10.2.52/opale-api/draft/Dra-00000029/costCalculation">cos:Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="56b41165-5e38-4a7c-ba9a-6a4e78376b8f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="costCalculation" path="/opale-api/commande/{refCommande}/costCalculation" id="68dd8f10-902e-4242-b8e4-4fb40cacbbce"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="2d222a51-6490-4e3e-9776-54c67ce13b43"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cos="http://10.10.2.52/opale-api/Cmd-00000013/costCalculation">cos:Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="d04cb699-79ab-4632-84bc-e2616b2de4d3"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:originalUri>http://10.10.2.52/opale-api//costCalculation</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="{refCommande}" path="/opale-api/commande/" id="1be93e3e-48e9-4389-a525-67949faad6cb"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="9008e7a4-9bdb-476e-9e4f-8e7ec16792a8"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="2148da96-6efa-4be1-8954-8e896b09b4b2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="valider" path="/opale-api/commande/{refCommande}/valider" id="7a089c4d-0b3b-4f67-8846-a26e07b2fb5a"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="GET" id="be9ef228-b92a-4c84-b27b-3f8f0de16ffe"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:val="http://10.10.2.52/opale-api/commande/Cmd-00000013/valider">val:Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="b65270b1-19e4-4305-98d5-3f45e41ac126"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="transformerEnContrat" path="/opale-api/commande/{refComande}/transformerEnContrat" id="c7e0f4d2-e17d-4696-b0bb-2c560084747e"><con:settings/><con:parameters><con:parameter><con:name>refComande</con:name><con:value>refComande</con:value><con:style>TEMPLATE</con:style><con:default>refComande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="9a5538c5-71b5-48a8-a93c-96f918012785"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:tran="http://10.10.2.52/opale-api/commande/Cmd-00000004/transformerEnContrat">tran:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:tran="http://10.10.2.52/opale-api/commande/Cmd-00000004/transformerEnContrat">tran:Response</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="0f4a7657-9ad4-4a29-a41b-88618e514d75"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="transformer en contrat" path="/opale-api/draft/contrat/{refContrat}" id="2a35b6d7-c05f-4eb2-919b-0d8e94b5c9da"><con:settings/><con:parameters><con:parameter><con:name>refContrat</con:name><con:value>refContrat</con:value><con:style>TEMPLATE</con:style><con:default>refContrat</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="a0a77f54-fd0a-43a0-a371-278f3076d111"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 405</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:ns="http://10.10.2.52/opale-api/draft/00003178">ns:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ns="http://10.10.2.52/opale-api/draft/00003178">ns:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="e81bfd52-5d4c-49ca-a017-dfd936310b24"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="associerGeste" path="/opale-api/draft/{refDraft}/ligne/{refLigne}/associerGeste" id="c5b78ab6-4db6-426d-b99d-cc568108869d"><con:settings/><con:parameters><con:parameter><con:name>refDraft</con:name><con:value>refDraft</con:value><con:style>TEMPLATE</con:style><con:default>refDraft</con:default></con:parameter><con:parameter><con:name>refLigne</con:name><con:value>refLigne</con:value><con:style>TEMPLATE</con:style><con:default>refLigne</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="414606fc-5fcb-4c83-9050-337c972a1c76"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="d1c79040-37d6-4608-86ba-9ae0c09f3f5a"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="renouvellement" path="/opale-api/commande/{refCommande}/transformeEnOrdereRenouvellement" id="507b3202-530f-46eb-924c-04b90c292f97"><con:settings/><con:parameters><con:parameter><con:name>refCommande</con:name><con:value>refCommande</con:value><con:style>TEMPLATE</con:style><con:default>refCommande</con:default></con:parameter></con:parameters><con:method name="Method 1" method="POST" id="af14553f-f969-43d7-be3c-747d79102324"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 405</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500</con:status><con:params/></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="615aa9cb-0715-4642-91fd-817255755721"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://10.10.2.52:8080" type="rest" id="fa0d31f0-61f9-47f2-9bed-36c2fabde309" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://10.10.2.52:8080</con:endpoint></con:endpoints><con:resource name="preparer" path="/contrat-core/contrat/preparer" id="c36e2682-50cb-4f18-bb63-e71951507d6b"><con:settings/><con:parameters/><con:method name="Method 1" method="POST" id="efa1c9a2-b53d-40a0-8e90-17e920d169dd"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" mediaType="application/json" postQueryString="false" id="8678df7f-4646-4052-a2d5-519dfded9733"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:credentials><con:authType>NTLM</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite name="Creation draft" id="4dfe6d62-d7b7-44ee-8e44-8b128b985d88"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="createDraft" searchProperties="true" id="f9ace4fe-55a1-4f53-a581-ca48ab8042c2"><con:settings/><con:testStep type="properties" name="DraftInfo" id="eb160759-df0c-41cc-8962-ee5beac92915"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000070</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="createDraft" id="b891c07b-72fc-42c7-992f-f707f893b67c"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/draft" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="createDraft" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }

}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/draft</con:originalUri><con:assertion type="XPath Match" name="reference exists" id="13df1820-77be-4bdb-ae29-21fde5fef188"><con:configuration><path>exists(//*:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="move ref draft" id="720caf45-83fa-4422-b873-31c6650eca05"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refDraft</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>createDraft</con:sourceStep><con:sourcePath>//*:reference</con:sourcePath><con:targetType>refDraft</con:targetType><con:targetStep>DraftInfo</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>refDraftGlobale</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>createDraft</con:sourceStep><con:sourcePath>//*:reference</con:sourcePath><con:targetType>refDraft</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="associer auteur" id="9b8d11da-c09b-435d-a37b-3f20d0d7fdfc"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/associerAuteur" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="associer auteur" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request> {
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000002/associerAuteur</con:originalUri><con:assertion type="GroovyScriptAssertion" name="response null" id="899f4c31-d629-41ad-894b-415180a85a58"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${DraftInfo#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Associer client" id="868dd63e-4805-49e2-8217-9c881ca4ad8f"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/associerClient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Associer client" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{

 "souscripteur": {
    "clientId": "id-client",
    "adresseId": "adr-souscri"
  },
  "livraison": {
    "clientId": "id-client",
    "adresseId": "adr-livraison"
  },
  "facturation": {
    "clientId": "id-client",
    "adresseId": "adr-facturation"
  },
  
  "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }

}

}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000002/AssocierClient</con:originalUri><con:assertion type="GroovyScriptAssertion" name="reponse null" id="65721905-ba92-4299-96bc-7e4477976518"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="6c88b4a2-c389-46ec-8c4c-28f8286ef400"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${DraftInfo#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Client valide" id="6d623cfa-fee0-40ac-a1ff-93eaa15d360d"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/opale_test?user=test&amp;password=test</con:connectionString><con:query>select * from draft 
where reference = "${DraftInfo#refDraft}"</con:query><con:assertion type="XPath Match" name="meme reference"><con:configuration><path>//Row/DRAFT.REFERENCE</path><content>${DraftInfo#refDraft}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" name="client facture exists"><con:configuration><token>DRAFT.CLIENTAFACTURERID</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="clinet livraison"><con:configuration><token>DRAFT.CLIENTALIVRERID</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="client souscripteur"><con:configuration><token>DRAFT.CLIENTSOUSCRIPTEURID</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Associer code partenaire" id="86428e92-f0be-4d67-a5dc-3f66f267f54c"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/associerCodePartenaire" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Associer code partenaire" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "codePartenaire": "code_part"
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000002/associerCodePartenaire</con:originalUri><con:assertion type="GroovyScriptAssertion" name="reponse null" id="5f63d1ac-65cd-4b62-938b-ed33e5376283"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${DraftInfo#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="code partenaire valide" id="761fcf03-3084-4a76-a8e0-0715f9647f75"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/opale_test?user=test&amp;password=test</con:connectionString><con:query>select * from draft 
where reference = "${DraftInfo#refDraft}"</con:query><con:assertion type="Simple Contains" name="code partenaire exists"><con:configuration><token>DRAFT.CODEPARTENAIRE</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000070</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="create draft complet" searchProperties="true" id="61973393-2a5c-470e-a16c-b0438f084a5e"><con:settings/><con:testStep type="restrequest" name="create draft" id="66ea222d-bf29-44a0-aa8f-625794571c2f"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/draft" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="create draft" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  
  "auteur": {
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
  ,

  "souscripteur": {
    "clientId": "id-client",
    "adresseId": "adr-souscri"
  },
  "livraison": {
    "clientId": "id-client",
    "adresseId": "adr-livraison"
  },
  "facturation": {
    "clientId": "id-client",
    "adresseId": "adr-facturation"
  },
   "codePartenaire": "code_part"
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/draft</con:originalUri><con:assertion type="XPath Match" name="reference exists" id="848aecb7-ea0e-414b-9d41-cd8c83210510"><con:configuration><path>exists(//*:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="move ref Draft" id="acaf01cf-c408-4ad5-8900-bcf4363b8aae"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refDraft</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>create draft</con:sourceStep><con:sourcePath>//*:reference</con:sourcePath><con:targetType>refDraft</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000071</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="createDraftSansCodePartenaire" searchProperties="true" id="7d673bef-fb92-43f4-ac7e-70def8c12535"><con:settings/><con:testStep type="properties" name="draftInfo" id="3f2fb568-b270-477f-9988-8305fde13adb"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000072</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="create draft" id="42af29cb-0c56-45fe-a9e6-edea2d6b7575"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/draft" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="create draft" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  
  "auteur": {
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
  ,

  "souscripteur": {
    "clientId": "id-client",
    "adresseId": "adr-souscri"
  },
  "livraison": {
    "clientId": "id-client",
    "adresseId": "adr-livraison"
  },
  "facturation": {
    "clientId": "id-client",
    "adresseId": "adr-facturation"
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/draft</con:originalUri><con:assertion type="XPath Match" name="meme reference" id="2735551e-fe78-4046-95e3-e1bf01e3ad0f"><con:configuration><path>exists(//*:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="move ref Draft" id="6b493047-d6c2-469a-8798-54d23195d0a6"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refDraft</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>create draft</con:sourceStep><con:sourcePath>//*:reference</con:sourcePath><con:targetType>refDraft</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refdraftLocal</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>create draft</con:sourceStep><con:sourcePath>//*:reference</con:sourcePath><con:targetType>refDraft</con:targetType><con:targetStep>draftInfo</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="ajouterLigne" id="d0222c38-a257-4e4c-9624-baff87c15ef4"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ajouterLigne" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request> [
  {
    "geste": "VENTE",
    "offre": {
      "referenceTarif": "avfw.essentiel.1mois",
      "referenceOffre": "avfw.essentiel"
    },
  "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }


  }
]</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000003/ligne</con:originalUri><con:assertion type="XPath Match" name="refference exists" id="929fc22c-36b7-4aae-9ccd-ab8e5ec343a5"><con:configuration><path>exists(//*:numero/*:e)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${draftInfo#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000072</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="valider draft" searchProperties="true" id="b87ff01b-6b6b-44a2-9091-0f66c12fb7c0"><con:settings/><con:testStep type="calltestcase" name="createDraft" id="7643a257-8957-4843-84d4-e5aff24f1d39"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f9ace4fe-55a1-4f53-a581-ca48ab8042c2</con:targetTestCase><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000073</con:value></con:property></con:properties><con:returnProperties><con:entry>refDraft</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="validerDraft" id="9dc6756d-a143-494f-90d6-cc704783968a"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/valider" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="validerDraft" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request> {
  "auteur": {
    "qui": "Emna",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  },
      "trameCatalogue": {
    "offres": [
      {
        "reference": "avfw.essentiel",
        "label": "Securitoo Integral",
        "gamme": "Antivirus",
        "secteur": "Securite",
        "modeFacturation": "DATE_ANNIVERSAIRE",
        "type": "SERVICE",
        "tarifs": [
          {
            "id_tarif": "avfw.essentiel.3mois",
            "prix": "13",
            "frequence": "3",
            "tva": "R"
          }
        ]
      }
    ]
  }  
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000008/valider</con:originalUri><con:assertion type="XPath Match" name="draft valide" id="254bb2d9-144b-42ee-9194-e5bac8448694"><con:configuration><path>//*:valide</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ajouter lignes" searchProperties="true" id="3389528e-d4a0-4f92-a829-baf6a67b525e"><con:settings/><con:testStep type="calltestcase" name="createDraft" id="ea9fd103-8d70-49e1-9a4b-f7b80fc40f73"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f9ace4fe-55a1-4f53-a581-ca48ab8042c2</con:targetTestCase><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000074</con:value></con:property></con:properties><con:returnProperties><con:entry>refDraft</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="ajouter ligne" id="c6d274f3-7a30-43f7-8156-d4f2fac01381"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ajouter ligne" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request> [
  {
    "geste": "VENTE",
    "offre": {
      "referenceTarif": "avfw.essentiel.1mois",
      "referenceOffre": "avfw.essentiel"
    },
     "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
  }
]</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000004/ligne</con:originalUri><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="2bcd7b06-2d50-4230-950b-8e4a752a41b2"><con:configuration/></con:assertion><con:assertion type="XPath Match" name="reference ligne exists" id="4aacd296-f73c-4252-973a-7a8226d19636"><con:configuration><path>exists(//*:e)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="movr ref ligne" id="cee43c6f-0240-4a21-96d9-cea55e81ee3a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refLigne</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>ajouter ligne</con:sourceStep><con:sourcePath>//*:e[1]</con:sourcePath><con:targetType>refLigne</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refdraft</con:name><con:sourceType>refDraft</con:sourceType><con:sourceStep>createDraft</con:sourceStep><con:sourcePath/><con:targetType>refdraft</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="ligne valide" id="a752bb61-9a3c-488e-8ae9-de73d694c419"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/opale_test?user=test&amp;password=test</con:connectionString><con:query>select * from draftligne where draftId=( 
select id from draft where reference = "${createDraft#refDraft}");</con:query><con:assertion type="XPath Match" name="geste"><con:configuration><path>//Row/DRAFTLIGNE.GESTE/text()</path><content>VENTE</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference offre"><con:configuration><path>//Row/DRAFTLIGNE.REFERENCEOFFRE/text()</path><content>avfw.essentiel</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference tarif"><con:configuration><path>//Row/DRAFTLIGNE.REFERENCETARIF/text()</path><content>avfw.essentiel.1mois</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>refLigne</con:name><con:value>00000059</con:value></con:property><con:property><con:name>refdraft</con:name><con:value>Dra-00000074</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="tranformer en commande" searchProperties="true" id="cf5d32ee-d3d6-48a6-ad61-3f141421105a"><con:settings/><con:testStep type="properties" name="CommandInfo" id="e9bcacf4-f043-4278-acf0-970b319bc008"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000075</con:value></con:property><con:property><con:name>refCommande</con:name><con:value>Cmd-00000034</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="calltestcase" name="createDraft" id="4e908c60-faf3-482e-8fff-923a21aa2930"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>3389528e-d4a0-4f92-a829-baf6a67b525e</con:targetTestCase><con:properties><con:property><con:name>refLigne</con:name><con:value>00000060</con:value></con:property><con:property><con:name>refdraft</con:name><con:value>Dra-00000075</con:value></con:property></con:properties><con:returnProperties><con:entry>refLigne</con:entry><con:entry>refdraft</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="transformer en commande" id="374c6d38-7b51-4a0d-b8f3-885330de63fa"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refContrat}/transformerEnCommande" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="transformer en commande" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "trameCatalogue": {
    "offres": [
      {
        "reference": "avfw.essentiel",
"label": "Securitoo Integral",
        "gamme": "Antivirus",
"secteur": "Securite",
        "modeFacturation": "DATE_ANNIVERSAIRE",
        "type": "SERVICE",
        "tarifs": [
          {
            "id_tarif": "avfw.essentiel.1mois",
            "prix": 5,
            "frequence": 1,
            "tva": "R"
          },
          {
            "id_tarif": "avfw.essentiel.3mois",
            "prix": 4.5,
            "frequence": 3,
            "tva": "R"
          },
          {
            "id_tarif": "avfw.essentiel.12mois",
            "prix": 48,
            "frequence": 12,
            "tva": "R"
          }
        ]
      }
    ]
  },
  "clientInfo": {
    "souscripteur": {
      "clientId": "123",
      "adresseId": "adr-souscri"
    },

    "facturation": {
      "clientId": "123",
      "adresseId": "adr-facturation"
    }
    ,

    "livraison": {
      "clientId": "123",
      "adresseId": "adr-livraison"
    }
  },
  "auteur": {
    "qui": "Emna"
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000005/transformerEnCommande</con:originalUri><con:assertion type="XPath Match" name="paiement comptant" id="3f462b0d-1995-4a6a-ba3e-80f14a9010a5" disabled="true"><con:configuration><path>//*:besoinPaiementComptant</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="paiement recurrent" id="a5050bfa-efb4-4c89-9cc4-1570e7e53be7" disabled="true"><con:configuration><path>//*:besoinPaiementRecurrent</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference exists" id="1b5b3207-d918-44be-bb75-54287eb1334e"><con:configuration><path>exists(//*:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="move ref cmd" id="59890494-d95b-4431-b54f-cf542754e9f9"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refdraftlocal</con:name><con:sourceType>refdraft</con:sourceType><con:sourceStep>createDraft</con:sourceStep><con:targetType>refDraft</con:targetType><con:targetStep>CommandInfo</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>refComandeLocal</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>transformer en commande</con:sourceStep><con:sourcePath>//*:reference</con:sourcePath><con:targetType>refCommande</con:targetType><con:targetStep>CommandInfo</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>refDraftGlobal</con:name><con:sourceType>refdraft</con:sourceType><con:sourceStep>createDraft</con:sourceStep><con:sourcePath/><con:targetType>refDraft</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>refCommandeGlobale</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>transformer en commande</con:sourceStep><con:sourcePath>//*:reference</con:sourcePath><con:targetType>refCommande</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="commande valide" id="ee83b75e-c1e1-49ba-95e2-3d27039383a8"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/opale_test?user=test&amp;password=test</con:connectionString><con:query>select * from commande where reference=
"${CommandInfo#refCommande}"</con:query><con:assertion type="XPath Match" name="referenceDraft"><con:configuration><path>//*:COMMANDE.REFERENCEDRAFT/text()</path><content>${CommandInfo#refDraft}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference commande"><con:configuration><path>//*:COMMANDE.REFERENCE/text()</path><content>${CommandInfo#refCommande}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" name="client facture exists"><con:configuration><token>COMMANDE.CLIENTAFACTURERID</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="client livraison exists"><con:configuration><token>COMMANDE.CLIENTALIVRERID</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="client souscripteur"><con:configuration><token>COMMANDE.CLIENTSOUSCRIPTEURID</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="get commande" id="e225831a-5b9d-4b92-bc85-ad72299f61b9"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="get commande" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000005</con:originalUri><con:assertion type="XPath Match" name="nb lignes" id="63e13124-dfde-48b3-9b2c-8ca3c9e27c3e"><con:configuration><path>count(//*:lignes/*:e)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="auteur" id="497539e3-758d-47f4-9a4a-df241599f139"><con:configuration><path>exists(//*:auteur)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${CommandInfo#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="calculerCout" id="b0d6ea36-a445-4fbc-b4d3-bfd166322d72"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/costCalculation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="calculerCout" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request> {
  "auteur": {
    "qui": "Emna",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  },
"trameCatalogue": {
    "offres": [
      {
        "reference": "avfw.essentiel",
        "label": "Securitoo Integral",
        "gamme": "Antivirus",
        "secteur": "Securite",
        "modeFacturation": "DATE_ANNIVERSAIRE",
        "type": "SERVICE",
        "tarifs": [
          {
            "id_tarif": "avfw.essentiel.1mois",
            "prix": "13",
            "frequence": "3",
            "tva": "R"
          }
        ]
      }
    ]
  }  
}</con:request><con:originalUri>http://10.10.2.52/opale-api/Cmd-00000013/costCalculation</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${CommandInfo#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="chercherCommande" id="f1e5fefb-dc29-4552-ac57-572f1c80f5e9"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="chercherCommande" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "clientId": "123",
  
  "paye": "false",
  
  "signe": "false"
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="1ca4c826-f2a3-4aa4-a40e-e41cad412144"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="commande exists" id="741924c8-33f0-4f54-877c-924e1b76bc20"><con:configuration><path>exists(//*:Response/*:e)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${CommandInfo#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="validerCommande" id="b1f0ff1e-a71f-43c4-9749-873986960a47"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/valider" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="validerCommande" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000013/valider</con:originalUri><con:assertion type="XPath Match" name="nb reasons" id="08a9e383-39c8-43cb-968e-8adec4464ab9"><con:configuration><path>count(//*:reasons/*:e)</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorcode-reason1" id="c5a29838-7a27-44f6-abe2-814184d557b1"><con:configuration><path>//*:reasons/*:e[1]/*:error</path><content>2.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage-reason1" id="849fc19f-95df-4066-812a-9d2952bbaaf7"><con:configuration><path>//*:reasons/*:e[1]/*:errorMessage</path><content>Aucune signature n'est associée a la commande.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="source-reason1" id="b3eded27-700a-4d2a-9255-a5c2eb25f7d2"><con:configuration><path>//*:reasons/*:e[1]/*:source</path><content>Signature</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="error-reason2" id="12bc6e0a-ad92-4682-ac4c-4a8a5604f8b7"><con:configuration><path>//*:reasons/*:e[2]/*:error</path><content>2.1.7</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage-reason2" id="d9bf94b4-70be-4d0d-a89a-1ae87824a485"><con:configuration><path>//*:reasons/*:e[2]/*:errorMessage</path><content>Il manque un paiement recurent a la commande.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="source-reason2" id="ab47a1ac-e7a6-4a80-8480-9b8635f7523d"><con:configuration><path>//*:reasons/*:e[2]/*:source</path><content>Paiement</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${CommandInfo#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000075</con:value></con:property><con:property><con:name>refCommande</con:name><con:value>Cmd-00000034</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="signature" searchProperties="true" id="fd763620-2165-4c87-9d19-b768844281ce"><con:settings/><con:testStep type="properties" name="SignatureInfo" id="04370056-fb51-480e-9ec5-2d6e0cd46bcd"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>refSignature</con:name><con:value>00000028</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="calltestcase" name="createCommande" id="b78b53a3-94da-4fed-8ccc-0cd82e893adc"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>cf5d32ee-d3d6-48a6-ad61-3f141421105a</con:targetTestCase><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000076</con:value></con:property><con:property><con:name>refCommande</con:name><con:value>Cmd-00000035</con:value></con:property></con:properties><con:returnProperties><con:entry>refDraft</con:entry><con:entry>refCommande</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="CreerIntentionSignature" id="9aac6a70-e105-4bc1-b97e-9f9e2e2ca63b"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/signature" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="CreerIntentionSignature" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "mode":  "OPEN_TRUST",
  "timestamp": "123456",
  "auteur": {
    "qui": "emna-testeur",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000003/signature</con:originalUri><con:assertion type="XPath Match" name="reference exists" id="26ac14b7-c328-4953-9ed0-5152d309e77f"><con:configuration><path>exists(//*:signatureReference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${createCommande#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="intention valide" id="431df0c4-3789-4cc1-bd72-c1ab98d3870d"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/opale_test?user=test&amp;password=test</con:connectionString><con:query>select * from signature where referenceCommande=
"${createCommande#refCommande}";</con:query><con:assertion type="Simple Contains" name="timestamp exists"><con:configuration><token>SIGNATURE.TIMESTAMPINTENTION</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" name="date creation"><con:configuration><token>SIGNATURE.DATECREATION</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference commande"><con:configuration><path>//*:SIGNATURE.REFERENCECOMMANDE</path><content>${createCommande#refCommande}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" name="mode "><con:configuration><token>SIGNATURE.MODE</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="XPath Match" name="pas de footPrint"><con:configuration><path>exists(//*:SIGNATURE.FOOTPRINT/text())</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="id signature"><con:configuration><path>exists(//*:SIGNATURE.IDSIGNATURE/text())</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="move ref signature" id="39350c3d-a86e-4bde-9742-4b585252f814"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refSignature</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>CreerIntentionSignature</con:sourceStep><con:sourcePath>//*:signatureReference</con:sourcePath><con:targetType>refSignature</con:targetType><con:targetStep>SignatureInfo</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>refCommand</con:name><con:sourceType>refCommande</con:sourceType><con:sourceStep>createCommande</con:sourceStep><con:sourcePath/><con:targetType>refCommande</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="signer intention" id="18e5a249-b5c9-4bd8-9b4b-a33c107e051c"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/signature/{refSignature}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="signer intention" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "mode":  "OPEN_TRUST",
  "idSignature": "new_opentrust_dfr2225tr3555",
  "timestamp": "123456",
  "footprint": "e2680542f77606f42f1cb06d68",
  "auteur": {
    "qui": "emna-testeur",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000003/signature/00000002</con:originalUri><con:assertion type="GroovyScriptAssertion" name="reponse null" id="22ab0ba2-1d53-4f35-baba-8708224b2433"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="http reponse 200 ok" id="6ff70e70-ca61-492f-8031-b736fb0036fc"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refSignature" value="${SignatureInfo#refSignature}"/>
  <con:entry key="refCommande" value="${createCommande#refCommande}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="signature valide" id="3fe83f45-eae1-4983-96e4-78c8312ddd71"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/opale_test?user=test&amp;password=test</con:connectionString><con:query>select * from signature where referenceCommande=
"${createCommande#refCommande}";</con:query><con:assertion type="XPath Match" name="footPrint"><con:configuration><path>//*:SIGNATURE.FOOTPRINT/text()</path><content>e2680542f77606f42f1cb06d68</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="id signature"><con:configuration><path>//*:SIGNATURE.IDSIGNATURE</path><content>new_opentrust_dfr2225tr3555</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" name="time stamp signature"><con:configuration><token>SIGNATURE.TIMESTAMPSIGNATURE</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="supprimer Signature" id="b797b8cf-6fe9-455c-926c-c81ab14a1eb7"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/signature/{refSignature}/supprimer" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="supprimer Signature" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
    "qui": "emna-testeur",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }</con:request><con:originalUri>http://10.10.2.52/opale-api/Cmd-00000004/signature//supprimer</con:originalUri><con:assertion type="GroovyScriptAssertion" name="reponse null" id="e09cac45-5443-4e63-8160-ff2c68131634"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="b5b60a57-7f9f-4849-9c0b-5a0eaa788d55"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refSignature" value="${SignatureInfo#refSignature}"/>
  <con:entry key="refCommande" value="${createCommande#refCommande}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="signature annulé" id="2c6959c3-568e-40b3-896c-365407458bf0"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/opale_test?user=test&amp;password=test</con:connectionString><con:query>select * from signature where referenceCommande=
"${createCommande#refCommande}";</con:query><con:assertion type="XPath Match" name="date annulation exsists"><con:configuration><path>exists(//*:SIGNATURE.DATEANNULATION/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="signer commande direct" id="530b5d56-7900-4e85-8ce3-19c09a11615c"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/signature/Direct" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="signer commande direct" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "mode":  "OPEN_TRUST",
  "idSignature": "new_opentrust_dfr2225tr3555",
  "timestamp": "123456",
  "footprint": "e2680542f77606f42f1cb06d68",
  "auteur": {
    "qui": "emna-testeur",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000004/signature/Direct</con:originalUri><con:assertion type="XPath Match" name="reference signature existe" id="30ab7176-877b-497d-9398-facda1526a1a"><con:configuration><path>exists(//*:signatureReference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${createCommande#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="get signature non annules" id="66abcbf5-8c4f-44a1-9a57-066cc9bb11e2"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/signature/{AfficheAnnule}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="get signature non annules" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000004/signature/false</con:originalUri><con:assertion type="XPath Match" name="XPath Match" id="950b6cff-a99f-4560-8879-aaf51a574969"><con:configuration><path>count(//Response/e)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="AfficheAnnule" value="false"/>
  <con:entry key="refCommande" value="${createCommande#refCommande}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="get tous les signaturea" id="9ac4ba10-76ea-47cb-8f29-32d9525cfc47"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/signature/{AfficheAnnule}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="get tous les signaturea" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000004/signature/true</con:originalUri><con:assertion type="XPath Match" name="nb de signature" id="dddacc43-be7b-41f0-be51-9ce3194a1449"><con:configuration><path>count(//Response/e)</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="AfficheAnnule" value="true"/>
  <con:entry key="refCommande" value="${createCommande#refCommande}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>refCommande</con:name><con:value>Cmd-00000035</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="paiement" searchProperties="true" id="9dd261ec-79fa-4c4b-a0e1-23a2cf285c25"><con:settings/><con:testStep type="properties" name="PaiementInfo" id="354dad02-076a-4b61-a2ff-740935210598"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>refPaiement</con:name><con:value>00000021</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="calltestcase" name="createCommande" id="834eb23f-a0d5-4386-8874-d710a0c5ff8c"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fd763620-2165-4c87-9d19-b768844281ce</con:targetTestCase><con:properties><con:property><con:name>refCommande</con:name><con:value>Cmd-00000036</con:value></con:property></con:properties><con:returnProperties><con:entry>refCommande</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Creer intention paiement" id="a7738cb7-a132-4180-9725-86032c9248ea"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/paiement" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Creer intention paiement" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "modePaiement": "CB",
  "montant": "5",
  "timestampPaiement": "2014-12-15",
  "referenceModePaiement": "R0000000",
  "auteur": {
    "qui": "emna.testeur",
    "canal": "welcome",
    "ip": {
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000006/paiement</con:originalUri><con:assertion type="XPath Match" name="reference exists" id="6618ce70-9c0a-4ab7-bbdc-42d3b44f1a29"><con:configuration><path>exists(//*:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>NTLM</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${createCommande#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="move ref paiement" id="8ef0e879-a29f-4925-8dd7-feaa2dcafd40"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refPaiement</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Creer intention paiement</con:sourceStep><con:sourcePath>//*:reference</con:sourcePath><con:targetType>refPaiement</con:targetType><con:targetStep>PaiementInfo</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>refCommande</con:name><con:sourceType>refCommande</con:sourceType><con:sourceStep>createCommande</con:sourceStep><con:sourcePath/><con:targetType>refCommande</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="intention paiement valide" id="223801f8-3896-4b5f-8a45-8ef2a0624553"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/opale_test?user=test&amp;password=test</con:connectionString><con:query>select * from paiement where 
referencecommande="${createCommande#refCommande}"</con:query><con:assertion type="XPath Match" name="timestampIntention"><con:configuration><path>exists(//*:PAIEMENT.TIMESTAMPINTENTION/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="type paiement comptant"><con:configuration><path>//*:PAIEMENT.TYPEPAIEMENT/text()</path><content>COMPTANT</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="date creation"><con:configuration><path>exists(//*:PAIEMENT.DATECREATION/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference commande"><con:configuration><path>//*:PAIEMENT.REFERENCECOMMANDE/text()</path><content>${createCommande#refCommande}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="payer intention payement" id="98aedf82-bb84-4fb8-8f83-f55f82ce7f4a"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/paiement/{refPaiement}/payer" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="payer intention payement" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "modePaiement": "CB",
  "montant": "5",
  "timestampPaiement": "2014-12-15",
  "referenceModePaiement": "R0000000",
  "auteur": {
    "qui": "emna.testeur",
    "canal": "welcome",
    "ip": {
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000007/paiement//payer</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="c19834eb-fb55-45b4-81c4-605ab2d082f9"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="reponse null" id="91763d80-8ebd-40e5-8beb-debe12d654de"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>NTLM</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refPaiement" value="${PaiementInfo#refPaiement}"/>
  <con:entry key="refCommande" value="${createCommande#refCommande}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="paiement valide" id="3d095b7f-613c-4bb0-9e88-db3075476415"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/opale_test?user=test&amp;password=test</con:connectionString><con:query>select * from paiement where 
referencecommande="${createCommande#refCommande}"</con:query><con:assertion type="XPath Match" name="timestamp exists"><con:configuration><path>exists(//*:PAIEMENT.TIMESTAMPPAIEMENT/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference commande"><con:configuration><path>//*:PAIEMENT.REFERENCECOMMANDE/text()</path><content>${createCommande#refCommande}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="payement recurrent" id="57a2cfd5-2f31-40ef-9443-c4a76a313e02"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/paiement/recurrent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="payement recurrent" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "modePaiement": "CB",
  "montant": "5",
  "timestampPaiement": "2014-12-15",
  "rum": "R0000000",
  "auteur": {
    "qui": "emna.testeur",
    "canal": "welcome",
    "ip": {
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000007/paiement/recurrent</con:originalUri><con:assertion type="XPath Match" name="reference exists" id="fd445483-61c4-4564-a2b9-bc630e56b3a4"><con:configuration><path>exists(//*:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>NTLM</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${createCommande#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="paiementRecurrent valide" id="8a5d329d-bad4-4ebf-9663-8d8a2fac28ae"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/opale_test?user=test&amp;password=test</con:connectionString><con:query>select * from paiement where 
referencecommande="${createCommande#refCommande}"
and typePaiement='RECURRENT';</con:query><con:assertion type="XPath Match" name="timestamp paiement"><con:configuration><path>exists(//*:PAIEMENT.TIMESTAMPPAIEMENT/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="type paiement"><con:configuration><path>//*:PAIEMENT.TYPEPAIEMENT/text()</path><content>RECURRENT</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="id paiement"><con:configuration><path>exists(//*:PAIEMENT.IDPAIEMENT/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="payement direct" id="ca6763bf-c754-4fd5-a52d-4063f26f085d"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/paiement/comptant" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="payement direct" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "modePaiement": "CB",
  "montant": "5",
  "timestampPaiement": "2014-12-15",
  "referenceModePaiement": "R0000000",
  "auteur": {
    "qui": "emna.testeur",
    "canal": "welcome",
    "ip": {
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000007/paiement/comptant</con:originalUri><con:assertion type="XPath Match" name="reference exists" id="4e485694-8d58-4c06-a99c-8c57b24cb493"><con:configuration><path>exists(//*:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>NTLM</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${createCommande#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="besoin paiement recurrent" id="3fb3ca1f-6573-472c-b4c0-00b3b8413749" disabled="true"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/besoinPaiementRecurrent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="besoin paiement recurrent" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000002/besoinPaiementRecurrent</con:originalUri><con:assertion type="XPath Match" name="besoin Paiement Recurrent" id="cfa8c935-de57-4bac-a196-4bfb64ccf716"><con:configuration><path>//*:besoinPaiementRecurrent</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${createCommande#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="besoin paiement comptant" id="6a91139a-8846-4ea3-975d-d123df84def4" disabled="true"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/besoinPaiementComptant" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="besoin paiement comptant" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000002/besoinPaiementComptant</con:originalUri><con:assertion type="XPath Match" name="besoin Paiement Comptant" id="8ea9273c-7fe7-4704-bf13-4474429bde30"><con:configuration><path>//*:besoinPaiementComptant</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${createCommande#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="supprimer paiement" id="3c1f450a-4aa0-4f0e-a829-2a2524142906"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/paiement/{refPaiement}/supprimer" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="supprimer paiement" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
    "qui": "emna-testeur",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000002/paiement/00000001/supprimer</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="1ac52c99-1b69-45a5-859d-3011643f9bd9"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="reponse null" id="f691ee09-a3bf-49af-88ac-d0c0192b392b"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refPaiement" value="${PaiementInfo#refPaiement}"/>
  <con:entry key="refCommande" value="${createCommande#refCommande}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="paiement annule" id="793b744b-1a13-49d2-ae89-9f0bc996f3cd"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/opale_test?user=test&amp;password=test</con:connectionString><con:query>select * from paiement where 
reference="${PaiementInfo#refPaiement}"
;</con:query><con:assertion type="XPath Match" name="date annulation exists"><con:configuration><path>exists(//*:PAIEMENT.DATEANNULATION/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="get paiement non annules" id="e643c294-cb81-4918-bf2c-dc255fd9bcff"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/paiement/annule/{isAnnuler}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="get paiement non annules" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000002/paiement/annule/true</con:originalUri><con:assertion type="XPath Match" name="nb payement comptant" id="ed638da2-b235-47b2-bf22-eb61923cd886"><con:configuration><path>count(//*:comptant/*:e)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="nb  paiement recurrent" id="36c9b9ae-1ae0-4405-b6ab-2bdbfc66b730"><con:configuration><path>count(//*:recurrent/*:e)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="isAnnuler" value="false"/>
  <con:entry key="refCommande" value="${createCommande#refCommande}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="get liset paiement (annules inclus)" id="0c115707-3a34-4b35-947d-b09f1f199313"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/paiement/annule/{isAnnuler}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="get liset paiement (annules inclus)" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000002/paiement/annule/true</con:originalUri><con:assertion type="XPath Match" name="nb paiement comptant" id="1af2d4d9-fa32-411d-86be-c8f50d6c4cd2"><con:configuration><path>count(//*:comptant/*:e)</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="nb paiement recurrent" id="6e82b780-eefc-4659-993c-3b5760062549"><con:configuration><path>count(//*:recurrent/*:e)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="isAnnuler" value="true"/>
  <con:entry key="refCommande" value="${createCommande#refCommande}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>refCommande</con:name><con:value>Cmd-00000036</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="create commande complete" searchProperties="true" id="c9bc2524-dff5-420d-a022-698cff64e810"><con:settings/><con:testStep type="properties" name="CommandeInfo" id="aa6a0bf1-45a7-4530-b4ce-bc6f930153d4"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties/></con:config></con:testStep><con:testStep type="calltestcase" name="createCommande" id="962828c2-c8d9-4ea9-b83e-e545f5667d39"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>cf5d32ee-d3d6-48a6-ad61-3f141421105a</con:targetTestCase><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000078</con:value></con:property><con:property><con:name>refCommande</con:name><con:value>Cmd-00000037</con:value></con:property></con:properties><con:returnProperties><con:entry>refDraft</con:entry><con:entry>refCommande</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="signer commande" id="11aed51d-642f-4cef-b93c-2a17c6984f31"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/signature/Direct" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="signer commande" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "mode":  "OPEN_TRUST",
  "idSignature": "new_opentrust_dfr2225tr3555",
  "timestamp": "123456",
  "footprint": "e2680542f77606f42f1cb06d68",
  "auteur": {
    "qui": "emna-testeur",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000004/signature/Direct</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="fa6287ec-c9aa-446d-9ca9-742d5536e95f"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference exists" id="6405f3ba-f53e-4385-a49e-934fec628080"><con:configuration><path>exists(//*:signatureReference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${createCommande#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="payer une commande" id="50fb98ee-2a1d-40ff-ad60-1a663e9fe8fd"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/paiement/recurrent" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="payer une commande" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "modePaiement": "CB",
  "montant": "5",
  "timestampPaiement": "2014-12-15",
  "rum": "R0000000",
  "auteur": {
    "qui": "emna.testeur",
    "canal": "welcome",
    "ip": {
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000005/paiement/recurrent</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="8c2877e6-d72a-4102-9911-571921593545"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference exists" id="232aca61-778e-45bd-98d4-1cb8c366b108"><con:configuration><path>exists(//*:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>NTLM</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${createCommande#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="move ref commande" id="6c5110c4-40d5-4b72-9295-8dba2805ef72"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refCommande</con:name><con:sourceType>refCommande</con:sourceType><con:sourceStep>createCommande</con:sourceStep><con:targetType>refCommande</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:properties><con:property><con:name>refCommande</con:name><con:value>Cmd-00000037</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="reduction" searchProperties="true" id="b2a447eb-04d3-4135-809a-40aa9b1bfc72"><con:settings/><con:testStep type="properties" name="ReductionInfo" id="c81481b0-1c75-48eb-b43f-757599cb297f"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>refReduction</con:name><con:value/></con:property></con:properties></con:config></con:testStep><con:testStep type="calltestcase" name="createDraft" id="5b0368e7-6250-4bf3-9f3b-2b4fa4e0cc03"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>3389528e-d4a0-4f92-a829-baf6a67b525e</con:targetTestCase><con:properties><con:property><con:name>refLigne</con:name><con:value>00000064</con:value></con:property><con:property><con:name>refdraft</con:name><con:value>Dra-00000079</con:value></con:property></con:properties><con:returnProperties><con:entry>refLigne</con:entry><con:entry>refdraft</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="associer reduction draft" id="17c30690-fea1-4ea4-aff6-cc1c383ea50f"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refdraft}/associerReduction" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="associer reduction draft" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "valeur": "50",
  "typeValeur": "POURCENTAGE",
  "nbUtilisationMax": 5,
  "label": "reduction sur ligne",
  "auteur": {
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/%23refDraft/associerReduction</con:originalUri><con:assertion type="XPath Match" name="reference reduction" id="bedbf055-28b4-4d9c-9b25-63b849548496"><con:configuration><path>exists(//*:referenceReduction)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refdraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="associer reduction ligne" id="d42f1b16-94b9-4b03-9805-000d410b01f0"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}/associerReduction" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="associer reduction ligne" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "valeur": "50",
  "typeValeur": "POURCENTAGE",
  "nbUtilisationMax": 5,
  "label": "reduction sur ligne",
  "auteur": {
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000027/ligne/00000023/associerReduction</con:originalUri><con:assertion type="XPath Match" name="reference exists" id="9401fa3e-c2cd-49a0-83e4-ce9ab27273f1"><con:configuration><path>exists(//*:referenceReduction)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refLigne" value="${createDraft#refLigne}"/>
  <con:entry key="refDraft" value="${createDraft#refdraft}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="associer reduction EC parent" id="17f31a7e-7cbc-4d70-97c2-f07403d2a593"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}/tarif/{refTarif}/associerReduction" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="associer reduction EC parent" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "valeur": "50",
  "typeValeur": "POURCENTAGE",
  "nbUtilisationMax": 5,
  "label": "reduction sur ligne",
  "auteur": {
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000027/ligne/00000023/tarif/avfw.essentiel.1mois/associerReduction</con:originalUri><con:assertion type="XPath Match" name="reference exists" id="d5552a15-74b6-4177-9b22-0481fdc4d507"><con:configuration><path>exists(//*:referenceReduction)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refLigne" value="${createDraft#refLigne}"/>
  <con:entry key="refTarif" value="avfw.essentiel.1mois"/>
  <con:entry key="refDraft" value="${createDraft#refdraft}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="associer reduction frais ligne" id="ed0ce816-87bb-4aa8-be08-e4566598bf2c"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}/frais/{refFrais}/associerReduction" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="associer reduction frais ligne" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "valeur": "50",
  "typeValeur": "POURCENTAGE",
  "nbUtilisationMax": 5,
  "label": "reduction sur ligne",
  "auteur": {
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000027/ligne/Dra-00000027/frais/engagement_kitsat/associerReduction</con:originalUri><con:assertion type="XPath Match" name="reduction frais ligne" id="303f055b-05d4-48ef-bdd8-8db3f8213764"><con:configuration><path>exists(//*:referenceReduction)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refFrais" value="engagement_kitsat"/>
  <con:entry key="refLigne" value="${createDraft#refLigne}"/>
  <con:entry key="refDraft" value="${createDraft#refdraft}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="associer reduction detail" id="0f201af2-a14e-4321-942c-da6f40e62dd5"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}/detail/{refProduit}/associerReduction" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="associer reduction detail" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "valeur": "50",
  "typeValeur": "POURCENTAGE",
  "nbUtilisationMax": 5,
  "label": "reduction sur ligne",
  "auteur": {
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000027/ligne/00000023/detail/avfw.essentiel/associerReduction</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refLigne" value="${createDraft#refLigne}"/>
  <con:entry key="refDraft" value="${createDraft#refdraft}"/>
  <con:entry key="refProduit" value="avfw.essentiel"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="associer reduction frais ligne detail" id="bc6c86a5-3b9a-4ad5-9b77-370a33489c8a"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}/detail/{refProduit}/frais/{refFrai}/associerReduction" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="associer reduction frais ligne detail" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "valeur": "50",
  "typeValeur": "POURCENTAGE",
  "nbUtilisationMax": 5,
  "label": "reduction sur ligne",
  "auteur": {
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000027/ligne/00000023/detail/avfw.essentiel/frais/engagement_kitsat/associerReduction</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refFrai" value="engagement_kitsat"/>
  <con:entry key="refLigne" value="${createDraft#refLigne}"/>
  <con:entry key="refDraft" value="${createDraft#refdraft}"/>
  <con:entry key="refProduit" value="avfw.essentiel"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="calculCout" searchProperties="true" id="4a8027bd-3025-4b49-aa68-445a7b26cb7d"><con:settings/><con:testStep type="properties" name="CoutInfo" id="bf296b31-698f-4bf4-b85e-5c8819d69dc1"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties/></con:config></con:testStep><con:testStep type="calltestcase" name="createDraft" id="28772930-1413-4f61-963b-43fb4a5240a5"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f9ace4fe-55a1-4f53-a581-ca48ab8042c2</con:targetTestCase><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000080</con:value></con:property></con:properties><con:returnProperties><con:entry>refDraft</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="calculCout" id="349c9dbd-d03a-4d95-8bee-f68780e14672"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/costCalculation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="calculCout" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request> {
  "auteur": {
    "qui": "Emna",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  },
"trameCatalogue": {
    "offres": [
      {
        "reference": "avfw.essentiel",
        "label": "Securitoo Integral",
        "gamme": "Antivirus",
        "secteur": "Securite",
        "modeFacturation": "DATE_ANNIVERSAIRE",
        "type": "SERVICE",
        "tarifs": [
          {
            "id_tarif": "avfw.essentiel.1mois",
            "prix": "13",
            "frequence": "3",
            "tva": "R"
          }
        ]
      }
    ]
  }  
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000029/costCalculation</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="dfa72b0f-ba4b-45d0-8844-0f8a78a49e08"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="transformer en contrat" searchProperties="true" id="d3129854-98eb-40cf-a57b-a4bcba16ca3e"><con:settings/><con:testStep type="properties" name="ContratInfo"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>refContrat</con:name><con:value>00000139</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="calltestcase" name="createCommandeComplet"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>c9bc2524-dff5-420d-a022-698cff64e810</con:targetTestCase><con:properties><con:property><con:name>refCommande</con:name><con:value>Cmd-00000038</con:value></con:property></con:properties><con:returnProperties><con:entry>refCommande</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="transformer en contrat"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refComande}/transformerEnContrat" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="transformer en contrat" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request> {
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000004/transformerEnContrat</con:originalUri><con:assertion type="XPath Match" name="reference contrat"><con:configuration><path>exists(//*:referencesContrats/*:e)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>NTLM</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refComande" value="${createCommandeComplet#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="move ref contrat"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refContrat</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>transformer en contrat</con:sourceStep><con:sourcePath>//*:referencesContrats/*:e</con:sourcePath><con:targetType>refContrat</con:targetType><con:targetStep>ContratInfo</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>refContrat</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>transformer en contrat</con:sourceStep><con:sourcePath>//*:referencesContrats/*:e</con:sourcePath><con:targetType>refContrat</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="contrat valide"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/topaze_test?user=test&amp;password=test</con:connectionString><con:query>select * from contrat where reference=
"${ContratInfo#refContrat}";
</con:query><con:assertion type="XPath Match" name="id contrat exists"><con:configuration><path>exists(//*:CONTRAT.ID/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="id client exists"><con:configuration><path>exists(//*:CONTRAT.IDCLIENT/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="EL valides"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.mysql.jdbc.Driver</con:driver><con:connectionString>jdbc:mysql://10.10.2.52:3306/topaze_test?user=test&amp;password=test</con:connectionString><con:query>select * from elementcontractuel where contratParent=
(select id from contrat where reference=
"${ContratInfo#refContrat}");
</con:query><con:assertion type="XPath Match" name="nb element"><con:configuration><path>count(//Row)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="mm ref commande"><con:configuration><path>//*:ELEMENTCONTRACTUEL.NUMEROCOMMANDE</path><content>${createCommandeComplet#refCommande}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="datePreparation"><con:configuration><path>exists(//*:ELEMENTCONTRACTUEL.DATEPREPARATION/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="date validation"><con:configuration><path>exists(//*:ELEMENTCONTRACTUEL.DATEVALIDATION/text())</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>refContrat</con:name><con:value>00000139</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="error draft" searchProperties="true" id="dc6e98ad-bfb7-41c1-804f-14feec41e784"><con:settings/><con:testStep type="calltestcase" name="createDraft"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>f9ace4fe-55a1-4f53-a581-ca48ab8042c2</con:targetTestCase><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000082</con:value></con:property></con:properties><con:returnProperties><con:entry>refDraft</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="creer draft sans qui"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/draft" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="creer draft sans qui" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "auteur": {
    "qui": "",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/draft</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Auteur.qui ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/draft</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Ajouter ligne sans geste"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Ajouter ligne sans geste" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>[
  {
    "geste": "",
    "offre": {
      "referenceTarif": "avfw.essentiel.1mois",
      "referenceOffre": "avfw.essentiel"
    },
    "auteur": {
      "qui": "emna",
      "ip": {
        "ip": "",
        "ts": "123456789"
      },
      "canal": "web"
    }
  }
]
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000010/ligne</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>geste ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${createDraft#refDraft}/ligne</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Ajouter ligne sans &quot;referenceTarif&quot;"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Ajouter ligne sans &quot;referenceTarif&quot;" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>[
  {
    "geste": "VENTE",
    "offre": {
      "referenceTarif": "",
      "referenceOffre": "avfw.essentiel"
    },
    "auteur": {
      "qui": "emna",
      "ip": {
        "ip": "",
        "ts": "123456789"
      },
      "canal": "web"
    }
  }
]
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000010/ligne</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Offre.referenceTarif ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${createDraft#refDraft}/ligne</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Ajouter sans &quot;referenceOffre&quot;"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Ajouter sans &quot;referenceOffre&quot;" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>[
  {
    "geste": "VENTE",
    "offre": {
      "referenceTarif": "avfw.essentiel.1mois",
      "referenceOffre": ""
    },
    "auteur": {
      "qui": "emna",
      "ip": {
        "ip": "",
        "ts": "123456789"
      },
      "canal": "web"
    }
  }
]
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000010/ligne</con:originalUri><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Offre.reference ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${createDraft#refDraft}/ligne</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Ajouter ligne sans offre"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Ajouter ligne sans offre" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>[
  {
    "geste": "VENTE",

    "auteur": {
      "qui": "emna",
      "ip": {
        "ip": "",
        "ts": "123456789"
      },
      "canal": "web"
    }
  }
]
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000010/ligne</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>1.1.34</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Chaque ligne doit contenir une offre.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${createDraft#refDraft}/ligne</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Ajouter une ligne sans auteur"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Ajouter une ligne sans auteur" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>[
  {
    "geste": "VENTE",
    "offre": {
      "referenceTarif": "avfw.essentiel.1mois",
      "referenceOffre": "avfw.essentiel"
    },
     "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
  }
]
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000010/ligne</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="reponse 200 ok"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="ajouterLigne"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>3389528e-d4a0-4f92-a829-baf6a67b525e</con:targetTestCase><con:properties><con:property><con:name>refLigne</con:name><con:value>00000067</con:value></con:property><con:property><con:name>refdraft</con:name><con:value>Dra-00000083</con:value></con:property></con:properties><con:returnProperties><con:entry>refLigne</con:entry><con:entry>refdraft</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Modifier ligne sans indiquer geste"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Modifier ligne sans indiquer geste" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
 "geste" : "",
  "offre": {
    "referenceTarif": "avfw.essentiel.3mois",
    "referenceOffre": "avfw.essentiel"
  },
  "auteur": {
    "qui": "emna",
    "ip": {
      "ip": "string2",
      "ts": "123456789"
    },
    "canal": "web"
  }
}

</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000015/ligne/00000007</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>geste ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>//*:url</path><content>/opale-api/draft/${ajouterLigne#refDraft}/ligne/${ajouterLigne#refLigne}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refLigne" value="${ajouterLigne#refLigne}"/>
  <con:entry key="refDraft" value="${ajouterLigne#refDraft}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Modifier ligne avec une geste différente"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Modifier ligne avec une geste différente" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
 "geste" : "resil",
  "offre": {
    "referenceTarif": "avfw.essentiel.3mois",
    "referenceOffre": "avfw.essentiel"
  },
  "auteur": {
    "qui": "emna",
    "ip": {
      "ip": "string2",
      "ts": "123456789"
    },
    "canal": "web"
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000015/ligne/00000007</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>geste ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${ajouterLigne#refDraft}/ligne/${ajouterLigne#refLigne}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refLigne" value="${ajouterLigne#refLigne}"/>
  <con:entry key="refDraft" value="${ajouterLigne#refDraft}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Modifier ligne sans offre"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Modifier ligne sans offre" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
 "geste" : "resil",

  "auteur": {
    "qui": "",
    "ip": {
      "ip": "string2",
      "ts": "123456789"
    },
    "canal": "web"
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000015/ligne/00000007</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>1.1.34</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Chaque ligne doit contenir une offre.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${ajouterLigne#refDraft}/ligne/${ajouterLigne#refLigne}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refLigne" value="${ajouterLigne#refLigne}"/>
  <con:entry key="refDraft" value="${ajouterLigne#refDraft}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Modifier ligne sans réf tarif"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Modifier ligne sans réf tarif" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
 "geste" : "resil",
  "offre": {
    "referenceTarif": "",
    "referenceOffre": "avfw.essentiel"
  },
  "auteur": {
    "qui": "",
    "ip": {
      "ip": "string2",
      "ts": "123456789"
    },
    "canal": "web"
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000015/ligne/00000007</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Offre.referenceTarif ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${ajouterLigne#refDraft}/ligne/${ajouterLigne#refLigne}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refLigne" value="${ajouterLigne#refLigne}"/>
  <con:entry key="refDraft" value="${ajouterLigne#refDraft}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Modifier ligne sans « qui »"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Modifier ligne sans « qui »" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
 "geste" : "resil",
  "offre": {
    "referenceTarif": "avfw.essentiel.3mois",
    "referenceOffre": "avfw.essentiel"
  },
  "auteur": {
    "qui": "",
    "ip": {
      "ip": "string2",
      "ts": "123456789"
    },
    "canal": "web"
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000015/ligne/00000007</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>0.1.4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Auteur.qui ne peut pas etre null.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${ajouterLigne#refDraft}/ligne/${ajouterLigne#refLigne}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refLigne" value="${ajouterLigne#refLigne}"/>
  <con:entry key="refDraft" value="${ajouterLigne#refDraft}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Modifier ligne sans auteur"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Modifier ligne sans auteur" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
 "geste" : "vente",
  "offre": {
    "referenceTarif": "avfw.essentiel.3mois",
    "referenceOffre": "avfw.essentiel"
  }
}

</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000015/ligne/00000007</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="reponse 200 ok"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refLigne" value="${ajouterLigne#refLigne}"/>
  <con:entry key="refDraft" value="${ajouterLigne#refDraft}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Associer client avec id client différent"><con:settings/><con:config service="http://10.10.2.52:8080" resourcePath="/opale-api/draft/{refDraft}/associerClient" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Associer client avec id client différent" mediaType="application/json" postQueryString="false" id="33697607-2acd-4325-845e-ac6f06eb731d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
    "souscripteur": {
      "clientId": "id",
      "adresseId": ""
    },
    "livraison": {
      "clientId": "120",
      "adresseId": "adr-livraison"
    },
    "facturation": {
      "clientId": "123",
      "adresseId": "adr-facturation"
    },
     "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000001/associerClient</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>1.1.32</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Les ids clients facturation/livraison/souscripteur doivent etre egaux: facturation = 123 livraison = 120 souscripteur = id.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${createDraft#refDraft}/associerClient</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Associer client sans idClient  (souscript / livr / fact )"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/associerClient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Associer client sans idClient  (souscript / livr / fact )" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
    "souscripteur": {
      "clientId": "",
      "adresseId": ""
    },
    "livraison": {
      "clientId": "",
      "adresseId": "adr-livraison"
    },
    "facturation": {
      "clientId": "",
      "adresseId": "adr-facturation"
    },
     "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000001/associerClient</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>1.1.5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Le clientId est obligtoire.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${createDraft#refDraft}/associerClient</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Associer client sans client souscripteur"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/associerClient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Associer client sans client souscripteur" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{

    "livraison": {
      "clientId": "123",
      "adresseId": "adr-livraison"
    },
    "facturation": {
      "clientId": "123",
      "adresseId": "adr-facturation"
    },
     "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}

</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000001/associerClient</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Associer client sans idAdresse livraison"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/associerClient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Associer client sans idAdresse livraison" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
    "souscripteur": {
      "clientId": "123",
      "adresseId": ""
    },
    "livraison": {
      "clientId": "123",
      "adresseId": ""
    },
    "facturation": {
      "clientId": "123",
      "adresseId": "adr-facturation"
    },
     "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000001/associerClient</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Associer client sans client livraison"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/associerClient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Associer client sans client livraison" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
    "souscripteur": {
      "clientId": "123",
      "adresseId": ""
    },
    "facturation": {
      "clientId": "123",
      "adresseId": "adr-facturation"
    },
     "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000001/associerClient</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Associer client sans idAdresse facturation"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/associerClient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Associer client sans idAdresse facturation" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
    "souscripteur": {
      "clientId": "123",
      "adresseId": ""
    },
    "livraison": {
      "clientId": "123",
      "adresseId": "adr-livraison"
    },
    "facturation": {
      "clientId": "123",
      "adresseId": ""
    },
     "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000001/associerClient</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Associer client sans client facturation"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/associerClient" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Associer client sans client facturation" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
    "souscripteur": {
      "clientId": "123",
      "adresseId": ""
    },
    "livraison": {
      "clientId": "123",
      "adresseId": "adr-livraison"
    },
     "auteur":{
    "qui": "GRC.WEL-JOHNDOE",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000001/associerClient</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraft#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="calltestcase" name="createDraftSansCodePart"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>7d673bef-fb92-43f4-ac7e-70def8c12535</con:targetTestCase><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000084</con:value></con:property></con:properties><con:returnProperties><con:entry>refDraft</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Valider draft sans code partenaire"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/valider" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Valider draft sans code partenaire" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "auteur": {
    "qui": "Emna",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  },
"trameCatalogue": {
    "offres": [
{
        "reference": "avfw.confort",
        "label": "Securitoo Integral",
"gamme": "Antivirus",
        "secteur": "Securite",
        "modeFacturation": "DATE_ANNIVERSAIRE",
        "type": "SERVICE",
        "tarifs": [
          {
            "id_tarif": "avfw.essentiel.3mois",
            "prix": "13",
            "frequence": "3",
            "tva": "R"
          }
        ]
      }
    ]
  }  
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000004/valider</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>1.1.21</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Impossible de valider ce draft : aucun partenaire associe.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${createDraftSansCodePart#refDraft}/valider</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${createDraftSansCodePart#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Valider draft avec des réf absentes"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/valider" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Valider draft avec des réf absentes" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "auteur": {
    "qui": "Emna",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  },
"trameCatalogue": {
    "offres": [
{
        "reference": "avfw.confort",
        "label": "Securitoo Integral",
"gamme": "Antivirus",
        "secteur": "Securite",
        "modeFacturation": "DATE_ANNIVERSAIRE",
        "type": "SERVICE",
        "tarifs": [
          {
            "id_tarif": "avfw.essentiel.3mois",
            "prix": "13",
            "frequence": "3",
            "tva": "R"
          }
        ]
      }
    ]
  }  
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000001/valider</con:originalUri><con:assertion type="XPath Match" name="error"><con:configuration><path>//*:error</path><content>36.3.1.2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>La référence avfw.essentiel n’existe pas (ou plus) dans le catalogue.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="source"><con:configuration><path>//*:source[1]</path><content>lignes[0].offre.reference</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="values"><con:configuration><path>//*:e/*:values/*:e</path><content>avfw.essentiel</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${ajouterLigne#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Transformer en Cmd : Absence d’un client"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refContrat}/transformerEnCommande" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Transformer en Cmd : Absence d’un client" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "trameCatalogue": {
    "offres": [
      {
        "reference": "avfw.essentiel",
"label": "Securitoo Integral",
        "gamme": "Antivirus",
"secteur": "Securite",
        "modeFacturation": "DATE_ANNIVERSAIRE",
        "type": "SERVICE",
        "tarifs": [
          {
            "id_tarif": "avfw.essentiel.1mois",
            "prix": 5,
            "frequence": 1,
            "tva": "R"
          },
          {
            "id_tarif": "avfw.essentiel.3mois",
            "prix": 4.5,
            "frequence": 3,
            "tva": "R"
          },
          {
            "id_tarif": "avfw.essentiel.12mois",
            "prix": 48,
            "frequence": 12,
            "tva": "R"
          }
        ]
      }
    ]
  },
  "clientInfo": {
    "souscripteur": {
      "clientId": "123",
      "adresseId": "adr-souscri"
    },

    "facturation": {
      "clientId": "123",
      "adresseId": "adr-facturation"
    }
  },
  "auteur": {
    "qui": "Emna"
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000002/transformerEnCommande</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>1.1.23</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Impossible de transformer le draft en commande. Il manque le code partenaire</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${createDraftSansCodePart#refDraft}/transformerEnCommande</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${createDraftSansCodePart#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Transformer draft en cmd avec une réf draft erronée"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refContrat}/transformerEnCommande" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Transformer draft en cmd avec une réf draft erronée" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "trameCatalogue": {
    "offres": [
      {
        "reference": "avfw.essentiel",
"label": "Securitoo Integral",
        "gamme": "Antivirus",
"secteur": "Securite",
        "modeFacturation": "DATE_ANNIVERSAIRE",
        "type": "SERVICE",
        "tarifs": [
          {
            "id_tarif": "avfw.essentiel.1mois",
            "prix": 5,
            "frequence": 1,
            "tva": "R"
          },
          {
            "id_tarif": "avfw.essentiel.3mois",
            "prix": 4.5,
            "frequence": 3,
            "tva": "R"
          },
          {
            "id_tarif": "avfw.essentiel.12mois",
            "prix": 48,
            "frequence": 12,
            "tva": "R"
          }
        ]
      }
    ]
  },
  "clientInfo": {
    "souscripteur": {
      "clientId": "123",
      "adresseId": "adr-souscri"
    },

    "facturation": {
      "clientId": "123",
      "adresseId": "adr-facturation"
    }
  },
  "auteur": {
    "qui": "Emna"
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/00002222222/transformerEnCommande</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>1.1.1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="errorMessage"><con:configuration><path>//*:errorMessage</path><content>Le draft de référence 00002222222 n’est existe pas.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/00002222222/transformerEnCommande</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="00002222222" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Transformer draft en cmd sans code partenaire"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refContrat}/transformerEnCommande" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Transformer draft en cmd sans code partenaire" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "trameCatalogue": {
    "offres": [
      {
        "reference": "avfw.essentiel",
"label": "Securitoo Integral",
        "gamme": "Antivirus",
"secteur": "Securite",
        "modeFacturation": "DATE_ANNIVERSAIRE",
        "type": "SERVICE",
        "tarifs": [
          {
            "id_tarif": "avfw.essentiel.1mois",
            "prix": 5,
            "frequence": 1,
            "tva": "R"
          },
          {
            "id_tarif": "avfw.essentiel.3mois",
            "prix": 4.5,
            "frequence": 3,
            "tva": "R"
          },
          {
            "id_tarif": "avfw.essentiel.12mois",
            "prix": 48,
            "frequence": 12,
            "tva": "R"
          }
        ]
      }
    ]
  },
  "clientInfo": {
    "souscripteur": {
      "clientId": "123",
      "adresseId": "adr-souscri"
    },

    "facturation": {
      "clientId": "123",
      "adresseId": "adr-facturation"
    }
  },
  "auteur": {
    "qui": "Emna"
  }
}
</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000004/transformerEnCommande</con:originalUri><con:assertion type="XPath Match" name="errorCode"><con:configuration><path>//*:errorCode</path><content>1.1.23</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>//*:errorMessage</path><content>Impossible de transformer le draft en commande. Il manque le code partenaire</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="url"><con:configuration><path>//*:url</path><content>/opale-api/draft/${createDraftSansCodePart#refDraft}/transformerEnCommande</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${createDraftSansCodePart#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="renouvellement" searchProperties="true" id="5fddbdff-0955-4b1f-ab2e-0f258bda9e0b"><con:settings/><con:testStep type="properties" name="RenouvellementInfo"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>refDraft</con:name><con:value>Dra-00000086</con:value></con:property><con:property><con:name>refLigne</con:name><con:value>00000070</con:value></con:property><con:property><con:name>refCommande</con:name><con:value>Cmd-00000040</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="calltestcase" name="transformerEnContrat"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>d3129854-98eb-40cf-a57b-a4bcba16ca3e</con:targetTestCase><con:properties><con:property><con:name>refContrat</con:name><con:value>00000140</con:value></con:property></con:properties><con:returnProperties><con:entry>refContrat</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="transformer en contrat"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/contrat/{refContrat}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="transformer en contrat" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "auteur": {
    "qui": "Emna",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  },
"trameCatalogue": {
    "offres": [
      {
        "reference": "avfw.essentiel",
        "label": "Securitoo Integral",
        "gamme": "Antivirus",
        "secteur": "Securite",
        "modeFacturation": "DATE_ANNIVERSAIRE",
        "type": "SERVICE",
        "tarifs": [
          {
            "id_tarif": "avfw.essentiel.1mois",
            "prix": "13",
            "frequence": "3",
            "tva": "R"
          }
        ]
      }
    ]
  }  
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/00003178</con:originalUri><con:assertion type="XPath Match" name="reference ligne exist"><con:configuration><path>exists(//*:lignes/*:e/*:referenceLigne)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference draft"><con:configuration><path>exists(//*:Response/*:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${transformerEnContrat#refContrat}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="move ref draft"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refDraft</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>transformer en contrat</con:sourceStep><con:sourcePath>//*:Response/*:reference</con:sourcePath><con:targetType>refDraft</con:targetType><con:targetStep>RenouvellementInfo</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>refLigne</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>transformer en contrat</con:sourceStep><con:sourcePath>//*:lignes/*:e/*:referenceLigne</con:sourcePath><con:targetType>refLigne</con:targetType><con:targetStep>RenouvellementInfo</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="associer geste"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/ligne/{refLigne}/associerGeste" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="associer geste" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "geste": "RENOUVELLEMENT"
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000014/ligne/refLigne/associerGeste</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="response empty"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="refLigne" value="${RenouvellementInfo#refLigne}"/>
  <con:entry key="refDraft" value="${RenouvellementInfo#refDraft}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="associer code partenaire"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refDraft}/associerCodePartenaire" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="associer code partenaire" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "codePartenaire": "code_part"
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000005/associerCodePartenaire</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="resposne null"><con:configuration><scriptText>assert messageExchange.hasResponse() == false</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refDraft" value="${RenouvellementInfo#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="transformer en cmd"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/draft/{refContrat}/transformerEnCommande" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="transformer en cmd" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "trameCatalogue": {
    "offres": [
      {
        "reference": "avfw.essentiel",
        "label": "Securitoo Integral",
        "gamme": "Antivirus",
        "secteur": "Securite",
        "modeFacturation": "DATE_ANNIVERSAIRE",
        "type": "SERVICE",
        "tarifs": [
          {
            "id_tarif": "avfw.essentiel.1mois",
            "prix": 5,
            "duree": "4",
            "engagement": "4",
            "frequence": 1,
            "tva": "R"
          },
          {
            "id_tarif": "avfw.essentiel.3mois",
            "prix": 4.5,
            "duree": "6",
            "engagement": "3",
            "frequence": 3,
            "tva": "R"
          },
          {
            "id_tarif": "avfw.essentiel.12mois",
            "prix": 48,
            "duree": "12",
            "engagement": "3",
            "frequence": 12,
            "tva": "R"
          }
        ]
      }
    ]
  },
  "clientInfo": {
    "souscripteur": {
      "clientId": "123",
      "adresseId": "adr-souscri"
    },
    "livraison": {
      "clientId": "123",
      "adresseId": "adr-livraison"
    },
    "facturation": {
      "clientId": "123",
      "adresseId": "adr-facturation"
    }
  },
  "auteur": {
    "qui": "emna-test"
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/draft/Dra-00000005/transformerEnCommande</con:originalUri><con:assertion type="XPath Match" name="reference"><con:configuration><path>exists(//*:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="besoin paiment comptant" disabled="true"><con:configuration><path>//*:besoinPaiementComptant</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="besoin paiement recurrent" disabled="true"><con:configuration><path>//*:besoinPaiementRecurrent</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refContrat" value="${RenouvellementInfo#refDraft}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="move ref commande"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>refCmmande</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>transformer en cmd</con:sourceStep><con:sourcePath>//*:reference</con:sourcePath><con:targetType>refCommande</con:targetType><con:targetStep>RenouvellementInfo</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="signer commande"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/signature/Direct" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="signer commande" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "mode":  "OPEN_TRUST",
  "idSignature": "new_opentrust_dfr2225tr3555",
  "timestamp": "123456",
  "footprint": "e2680542f77606f42f1cb06d68",
  "auteur": {
    "qui": "emna-testeur",
    "canal": "welcome",
    "ip": {
      "ts": "1411654933",
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000002/signature/Direct</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference signature exists"><con:configuration><path>exists(//*:signatureReference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${RenouvellementInfo#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="payer Commande"><con:settings/><con:config service="http://10.10.2.52:8080" resourcePath="/opale-api/commande/{refCommande}/paiement/recurrent" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="payer Commande" mediaType="application/json" postQueryString="false" id="c4459ef6-33d2-42db-875b-4fbbad609f17"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request>{
  "modePaiement": "CB",
  "montant": "5",
  "timestampPaiement": "2014-12-15",
  "rum": "R0000000",
  "auteur": {
    "qui": "emna.testeur",
    "canal": "welcome",
    "ip": {
      "ip": "127.0.0.1"
    }
  }
}</con:request><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000002/paiement/recurrent</con:originalUri><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="reference exists"><con:configuration><path>exists(//*:reference)</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>NTLM</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${RenouvellementInfo#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="transformer en ordre de renouvellement"><con:settings/><con:config service="http://10.10.2.52:8080" methodName="Method 1" resourcePath="/opale-api/commande/{refCommande}/transformeEnOrdereRenouvellement" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="transformer en ordre de renouvellement" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.10.2.52:8080</con:endpoint><con:request/><con:originalUri>http://10.10.2.52/opale-api/commande/Cmd-00000002//transformeEnOrdereRenouvellement</con:originalUri><con:assertion type="GroovyScriptAssertion" name="errorCode"><con:configuration><scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)
assert !(jsonSlurper.isEmpty())
assert jsonSlurper.errorCode == "1.1.119"</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="errorMessage"><con:configuration><scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)
assert !(jsonSlurper.isEmpty())
assert jsonSlurper.errorMessage == "Impossible de renouveler un Ã©lÃ©ment contractuel n'ayant aucune durÃ©e."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="refCommande" value="${RenouvellementInfo#refCommande}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:sensitiveInformation/></con:soapui-project>